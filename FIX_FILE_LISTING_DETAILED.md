# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Ñ–∞–π–ª–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞
–§–∞–π–ª—ã –≤ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (`source` –∏ `changes`) –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤–æ –≤—Å–µ—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö, —Ö–æ—Ç—è –æ–Ω–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö.

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ .env –≤ `backend/app.py`
- –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `dotenv` –∏ `Path`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ `.env` —Ñ–∞–π–ª–∞ –≤ –Ω–∞—á–∞–ª–µ –º–æ–¥—É–ª—è
- –¢–µ–ø–µ—Ä—å `DATA_DIR` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —á–∏—Ç–∞–µ—Ç—Å—è –∏–∑ .env

### 2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è `DATA_DIR`
- –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `./data`) –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ
- –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω–æ, —Ç–∞–∫ –∏ –≤ Docker

### 3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ `DATA_DIR`, `UPLOADS_DIR` –∏ –ø—É—Ç–µ–π –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—É—Ç—è–º–∏

### 4. ‚úÖ –£–ª—É—á—à–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `list_files`
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –ø–æ–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É—Ç–µ–π –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

## –í–∞–∂–Ω–æ: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DATA_DIR

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```env
DATA_DIR=./data
```

### –î–ª—è Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
–í `docker-compose.yml` —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:
```yaml
environment:
  - DATA_DIR=${DATA_DIR:-/data}
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –í `.env` –¥–ª—è Docker –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```env
DATA_DIR=/data
```

–ò–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ—Å—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `/data` –∏–∑ docker-compose.yml.

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend:**
   ```bash
   docker compose restart backend
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤:**
   ```bash
   docker compose logs -f backend | grep -E "DATA_DIR|UPLOADS_DIR|—Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤|–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:**
   ```bash
   docker compose exec backend ls -la /data/uploads/
   docker compose exec backend ls -la /data/uploads/operator1/
   docker compose exec backend ls -la /data/uploads/operator1/source/
   docker compose exec backend ls -la /data/uploads/operator1/changes/
   ```

## –û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏

–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏:
```
INFO - DATA_DIR –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è: '/data'
INFO - DATA_DIR –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å: /data
INFO - –ò—Ç–æ–≥–æ–≤—ã–µ –ø—É—Ç–∏: DATA_DIR=/data, UPLOADS_DIR=/data/uploads
INFO - –ó–∞–ø—Ä–æ—Å —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è operator1, file_type=source
INFO - DATA_DIR: /data
INFO - UPLOADS_DIR: /data/uploads
INFO - –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: /data/uploads/operator1
INFO - –ê–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: /data/uploads/operator1
INFO - –°—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: True
INFO - –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤ –≤ –ø–æ–¥–ø–∞–ø–∫–µ: /data/uploads/operator1/source
INFO - –ê–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å: /data/uploads/operator1/source
INFO - –°—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: True
INFO - –í—Å–µ —Ñ–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ /data/uploads/operator1/source: ['source.docx']
INFO - –ù–∞–π–¥–µ–Ω–æ 1 —Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–ø–∫–µ source (–∏—Å–∫–ª—é—á–µ–Ω—ã backup —Ñ–∞–π–ª—ã): ['source.docx']
```

## –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö:**
   ```bash
   docker compose exec backend find /data/uploads -name "*.docx" -type f
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**
   ```bash
   docker compose exec backend ls -la /data/uploads/operator1/
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω:**
   - –í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∑–∞–ø—Ä–æ—Å –∏–¥–µ—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º `file_type`:**
   - –í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `file_type=source` –∏–ª–∏ `file_type=changes`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network tab –≤ DevTools –±—Ä–∞—É–∑–µ—Ä–∞

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 2025-11-24

